import{a as x,c as C,d as O,e as p,f as M,h as w}from"./chunk-XX3XNYVE.js";import{a as z,b as y,e as R}from"./chunk-CW4BMCRM.js";var n=R(x());var o=R(x());function I({debounce:e,scroll:t,polyfill:s,offsetSize:a}={debounce:0,scroll:!1,offsetSize:!1}){let c=s||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!c)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[u,v]=(0,o.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),r=(0,o.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u}),m=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,f=(0,o.useRef)(!1);(0,o.useEffect)(()=>(f.current=!0,()=>void(f.current=!1)));let[S,h,l]=(0,o.useMemo)(()=>{let i=()=>{if(!r.current.element)return;let{left:k,top:G,width:V,height:B,bottom:Z,right:P,x:Y,y:X}=r.current.element.getBoundingClientRect(),g={left:k,top:G,width:V,height:B,bottom:Z,right:P,x:Y,y:X};r.current.element instanceof HTMLElement&&a&&(g.height=r.current.element.offsetHeight,g.width=r.current.element.offsetWidth),Object.freeze(g),f.current&&!N(r.current.lastBounds,g)&&v(r.current.lastBounds=g)};return[i,d?O(i,d):i,m?O(i,m):i]},[v,a,m,d]);function b(){r.current.scrollContainers&&(r.current.scrollContainers.forEach(i=>i.removeEventListener("scroll",l,!0)),r.current.scrollContainers=null),r.current.resizeObserver&&(r.current.resizeObserver.disconnect(),r.current.resizeObserver=null)}function E(){r.current.element&&(r.current.resizeObserver=new c(l),r.current.resizeObserver.observe(r.current.element),t&&r.current.scrollContainers&&r.current.scrollContainers.forEach(i=>i.addEventListener("scroll",l,{capture:!0,passive:!0})))}let T=i=>{!i||i===r.current.element||(b(),r.current.element=i,r.current.scrollContainers=L(i),E())};return $(l,!!t),W(h),(0,o.useEffect)(()=>{b(),E()},[t,l,h]),(0,o.useEffect)(()=>b,[]),[T,u,S]}function W(e){(0,o.useEffect)(()=>{let t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function $(e,t){(0,o.useEffect)(()=>{if(t){let s=e;return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",s,!0)}},[e,t])}function L(e){let t=[];if(!e||e===document.body)return t;let{overflow:s,overflowX:a,overflowY:c}=window.getComputedStyle(e);return[s,a,c].some(u=>u==="auto"||u==="scroll")&&t.push(e),[...t,...L(e.parentElement)]}var D=["x","y","top","bottom","left","right","width","height"],N=(e,t)=>D.every(s=>e[s]===t[s]),H=I;var j=0,A=600,q=e=>{let t=(0,n.useMemo)(()=>({containerSize:e.cubeSize*1.8,originalSize:e.cubeSize,translateZSize:e.cubeSize/2,springGainInterpolationSize:{start:e.cubeSize/2*.8,end:e.cubeSize/2*1.2},textSize:e.cubeSize*.15,ringContainerDistance:e.cubeSize/2*.6,outLineRingWidth:e.cubeSize*.1,scrollMarginSize:e.cubeSize*.9}),[e.cubeSize]),[s,a]=H({scroll:!0}),[c,u]=(0,n.useState)(null),v=(0,n.useRef)(null),{centerX:r,centerY:m}=(0,n.useMemo)(()=>({centerX:a.left+a.width/2,centerY:a.top+a.height/2}),[a]),d=M(y(z({},C(e.mouseX,e.mouseY,r,m,45)),{backgroundColor:c?"rgba(250, 204, 21,0.9)":"rgba(250, 204, 21,0.1)",scale:c?1.3:1,borderRadius:c?"1%":"50%",config:y(z({},p.wobbly),{clamp:!0})}));(0,n.useEffect)(()=>{if(e.mobileBehaviour){let l=window.innerHeight/2;if(Math.abs(l-m)<t.scrollMarginSize){u(!0);return}u(!1);return}},[a]),(0,n.useEffect)(()=>{setTimeout(()=>{window.dispatchEvent(new Event("resize"))},300),e.active&&e.mobileBehaviour&&setTimeout(()=>{var l;(l=v.current)==null||l.scrollIntoView({block:"center"})},300)},[]);let f=(0,n.useCallback)(()=>{e.onMouseOverHandler&&e.onMouseOverHandler(),!e.mobileBehaviour&&u(!0)},[]),S=(0,n.useCallback)(()=>{e.onMouseOutHandler&&e.onMouseOutHandler(),!e.mobileBehaviour&&u(!1)},[]),h=(0,n.useCallback)(l=>{var b;if(!c&&e.mobileBehaviour){(b=v.current)==null||b.scrollIntoView({block:"center"});return}e.onClickHandler(l)},[c]);return n.default.createElement("div",{ref:s,className:"relative flex justify-center items-center",style:{width:t.containerSize,height:t.containerSize}},n.default.createElement(w.div,{ref:v,className:`\r
        relative\r
        [&>div]:absolute \r
        [&>div]:w-full \r
        [&>div]:h-full \r
        [&>div]:opacity-80 \r
        [&>div]:border \r
        [&>div]:border-cyan-600\r
        [&>div]:rounded-md\r
        [&>div]:bg-cyan-900`,style:{width:`${t.originalSize}px`,height:`${t.originalSize}px`,transformStyle:"preserve-3d",perspective:A,rotateX:d.rotateX,rotateY:d.rotateY,translate3d:["0%","0%",j],scale:d.scale}},n.default.createElement(w.div,{onMouseOver:f,onMouseOut:S,onClick:h,className:`flex justify-center\r
          items-center\r
          text\r
          font-bold\r
          outline\r
          border-none\r
          text-zinc-400\r
          cursor-pointer\r
          select-none`,style:{translateZ:e.springRef.trebleGain.to([0,1],[t.springGainInterpolationSize.start,t.springGainInterpolationSize.end]),scale:.85,fontSize:t.textSize,backgroundColor:d.backgroundColor,outlineWidth:e.springRef.bassGain.to([0,1],[t.outLineRingWidth/2,t.outLineRingWidth*1.2]),outlineColor:e.springRef.bassGain.to([0,1],["rgb(165 243 252)","rgb(22 78 99)"]),borderRadius:d.borderRadius,textShadow:"-1px -1px 0 rgb(23,23,23),  1px -1px 0 rgb(23,23,23),-1px 1px 0 rgb(23,23,23),1px 1px 0 rgb(23,23,23)"}},e.children),n.default.createElement("div",{className:"border-none",style:{transform:`translateZ(${t.ringContainerDistance}px)`,background:"radial-gradient(circle, rgb(165 243 252), rgb(22 78 99))"}}),n.default.createElement("div",{style:{transform:`translateZ(-${t.translateZSize}px)`}}),n.default.createElement("div",{style:{transform:`rotateY(90deg) translateZ(${t.translateZSize}px)`}}),n.default.createElement("div",{style:{transform:`rotateY(-90deg) translateZ(${t.translateZSize}px)`}}),n.default.createElement("div",{style:{transform:`rotateX(90deg) translateZ(${t.translateZSize}px)`}}),n.default.createElement("div",{style:{transform:`rotateX(-90deg) translateZ(${t.translateZSize}px)`}})))},oe=q;export{oe as a};
